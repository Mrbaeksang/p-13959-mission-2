<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Stylish Login</title>
    <!-- Tailwind CDN -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Cinzel & Poppins -->
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Cinzel:wght@400;700&family=Poppins:wght@300;400;500;600&display=swap">
    <style>
        body {
            font-family: 'Poppins', sans-serif;
        }
        .font-cinzel { font-family: 'Cinzel', serif; }
        #particles-js {
            position: fixed;
            width: 100vw;
            height: 100vh;
            left: 0; top: 0;
            z-index: 1;
        }
    </style>
</head>
<body class="bg-black min-h-screen flex items-center justify-center">
<div id="particles-js"></div>
<div class="relative z-10 w-full max-w-md">
    <div class="rounded-2xl shadow-xl bg-black/90 border border-yellow-400 p-8" style="box-shadow:0 0 30px rgba(212,175,55,0.18),inset 0 0 15px rgba(212,175,55,0.12)">
        <h2 class="text-yellow-400 text-2xl font-cinzel font-bold text-center mb-1 tracking-widest animate-pulse">LOGIN</h2>
        <p class="text-yellow-200 text-center mb-7">Welcome back</p>
        <form th:action="@{/user/login}" method="post" autocomplete="off" class="space-y-5">
            <div th:if="${param.error}">
                <div class="text-center text-yellow-300 bg-black/50 border border-yellow-400 rounded py-2 mb-3">
                    사용자ID 또는 비밀번호를 확인해 주세요.
                </div>
            </div>
            <!-- 아이디 -->
            <div class="relative mb-3">
                <input type="text" id="username" name="username" autocomplete="username" required autofocus
                       class="block w-full px-4 py-2 bg-black/60 border-b-2 border-yellow-400 focus:outline-none focus:ring-2 focus:ring-yellow-300 text-yellow-100 peer placeholder-transparent rounded-t-md"
                       placeholder="아이디">
                <label for="username"
                       class="absolute left-4 top-2 text-yellow-300 pointer-events-none transition-all peer-placeholder-shown:top-2 peer-placeholder-shown:text-base peer-focus:-top-5 peer-focus:text-xs peer-focus:text-yellow-200 peer-focus:font-semibold">
                    아이디
                </label>
            </div>
            <!-- 비밀번호 -->
            <div class="relative mb-3">
                <input type="password" id="password" name="password" autocomplete="current-password" required
                       class="block w-full px-4 py-2 bg-black/60 border-b-2 border-yellow-400 focus:outline-none focus:ring-2 focus:ring-yellow-300 text-yellow-100 peer placeholder-transparent rounded-t-md"
                       placeholder="비밀번호">
                <label for="password"
                       class="absolute left-4 top-2 text-yellow-300 pointer-events-none transition-all peer-placeholder-shown:top-2 peer-placeholder-shown:text-base peer-focus:-top-5 peer-focus:text-xs peer-focus:text-yellow-200 peer-focus:font-semibold">
                    비밀번호
                </label>
            </div>
            <!-- CSRF -->
            <input type="hidden" th:name="${_csrf.parameterName}" th:value="${_csrf.token}" />
            <div class="flex items-center justify-between text-yellow-200 text-xs">
                <a th:href="@{/user/find-password}" class="hover:underline text-yellow-300">비밀번호 찾기</a>
            </div>
            <button type="submit"
                    class="w-full bg-yellow-400 hover:bg-yellow-500 text-black font-bold py-2 rounded-xl shadow transition focus:ring-2 focus:ring-yellow-300">
                로그인
            </button>
            <!-- 구글 로그인 -->
            <div class="text-center my-1">
                <a href="/oauth2/authorization/google" class="flex items-center justify-center gap-2 py-2 px-4 rounded border border-yellow-400 bg-black/60 text-yellow-100 hover:bg-yellow-900 transition">
                    <img src="https://cdn.jsdelivr.net/gh/devicons/devicon/icons/google/google-original.svg"
                         alt="Google" class="w-5 h-5"> Google 계정으로 로그인
                </a>
            </div>
            <div class="text-center mt-4 text-yellow-200">
                계정이 없으신가요?
                <a href="/user/signup" class="ml-1 text-yellow-400 hover:underline font-bold">회원가입</a>
            </div>
        </form>
    </div>
</div>
<!-- particles.js -->
<script src="https://cdn.jsdelivr.net/particles.js/2.0.0/particles.min.js"></script>
<script>
    document.addEventListener('DOMContentLoaded', function() {
        particlesJS('particles-js', {
            "particles": {
                "number": { "value": 100, "density": { "enable": true, "value_area": 800 } },
                "color": { "value": "#ffd700" },
                "shape": { "type": "circle" },
                "opacity": { "value": 0.8, "random": true },
                "size": { "value": 5, "random": true },
                "line_linked": {
                    "enable": true, "distance": 150,
                    "color": "#ffd700", "opacity": 0.6, "width": 1.5
                },
                "move": {
                    "enable": true, "speed": 2, "direction": "none",
                    "random": true, "straight": false, "out_mode": "out", "bounce": false,
                    "attract": { "enable": true, "rotateX": 600, "rotateY": 1200 }
                }
            },
            "interactivity": {
                "detect_on": "canvas",
                "events": {
                    "onhover": { "enable": true, "mode": "repulse" },
                    "onclick": { "enable": true, "mode": "push" },
                    "resize": true
                },
                "modes": {
                    "grab": { "distance": 400, "line_linked": { "opacity": 1 } },
                    "bubble": { "distance": 400, "size": 40, "duration": 2, "opacity": 8, "speed": 3 },
                    "repulse": { "distance": 100, "duration": 0.4 },
                    "push": { "particles_nb": 4 }, "remove": { "particles_nb": 2 }
                }
            },
            "retina_detect": true
        });
    });
</script>
</body>
</html>
